---
title: "SMA Cap 2"
output: html_document
---


```{r}
# PROGRAMA AULAS

# 1) treino datacamp
# 2) treino datacamp

# 3) 2.1 Análise Exploratória de dados
# não sugerido  -  4) 2.2 Probabilidades

# não sugerido  -  5) 2.3 (Distribuições)
# 6) 2.4 + 2.5 (Intervalos de confiança + Estimação pontual - 1 variável) (Testes de Hipóteses 1 variável)

# 7) ANOVA + REGRESSÃO - Cap. 3 + Cap. 4

#CAPÍTULO 5 NÃO SE ABORDA

```


# CAPÍTULO 2: ESTATÍSTICA COM 1 VARIÁVEL


#EXERCÍCIOS SMA - 2.1 - ANÁLISE EXPLORATÓRIA DE DADOS

# Ex. 2.1.1 
<!-- Classifique cada uma das seguintes variáveis quanto ao tipo (quantitativo / qualitativo), a escala em que são medidas, e no caso de serem numéricas, se são contínuas ou discretas. -->

# (a) Peso de um tijolo 3 x 4.
quantitativo ; escala de razões; contínuas

# (b) Idade.
qualitativo; nominal

# (c) Qualidade de um serviçco (mau, razoável, bom).
qualitativo; nominal

# (d) Regime de estudos de um estudante da UA.
qualitativo; nominal

# (e) Número de peças defeituosas produzidas diariamente por uma dada empresa.
quantitativo; escala de razões; discreta 

# (f) Temperatura (em oC) do ar ao meio-dia na sala 11.2.22 do DMat.
quantitativo; escala de intervalos; contínuas

# (g) Usando Phython ou R, gere vetores aleatórios, de dimensão 10, de cada uma das variáveis anteriores, com base nas distribuições uniforme discreta, uniforme contínua e normal, consoante seja apropriado
```{r}
# comando help(rnorm)

#SOLUÇÕES

# unif discreta
# > round(runif(size, min, max))
# unif contínua
# > runif(size, min, max)
# normal
# > rnorm(size, mean, sd)

#sample(x, size, replace = TRUE)

#Peso de um tijolo - discreta
round(runif(10, 1, 2)) 

#a) Idade - qualitativa
sample(c("criança", "adulto", "sénior"), 10, replace = TRUE)
#Idade - qualitativa - normal com palavras
Idade <- c("criança", "adulto", "sénior")
Idade[round(rnorm(10, 2, 0.75))]  

#b) Serviço
sample(c("mau", "razoável", "bom"), 10, replace = TRUE)

#c) Regime de estudos
sample(c("full-time", "part-time"), 10, replace = TRUE)

#d) Nº de peças defeituosas
round(runif(10, 190, 390))

#e) Temperatura DMat
round(rnorm(10, 20, 5), 1)

```
# Exercício 2.1.2
```{r}

# a) Nenhuma das respostas anteriores é verdadeira
# b) 
boxplot(rchisq(1000, 2))
boxplot(rexp(1000, 10))


```
# Exercício 2.1.3
```{r}
#a) a amplitude de cada classe é de 5 metros
#b)
hist(rnorm(1000, 25, 5))
```
# Exercício 2.1.4
```{r}
#a) 
meses_2.1.4 <- c("Janeiro", "Janeiro", "Janeiro", "Janeiro", "Fevereiro", "Fevereiro", "Fevereiro", "Fevereiro", "Março", "Março", "Março", "Março")
viveiro_2.1.4 <- c("A", "B", "C", "D", "A", "B", "C", "D", "A", "B", "C", "D")
peso_robalos_2.1.4 <- c(235,240,256,275,254,265,245,267,231,252,268,283)

df_aquacultura <- data.frame(meses_2.1.4, viveiro_2.1.4, peso_robalos_2.1.4)

media_peso_A <- round(mean(subset(df_aquacultura, viveiro_2.1.4 == "A")[, 3]), digits = 2)
media_peso_B <- round(mean(subset(df_aquacultura, viveiro_2.1.4 == "B")[, 3]), digits = 2)
media_peso_C <- round(mean(subset(df_aquacultura, viveiro_2.1.4 == "C")[, 3]), digits = 2)
media_peso_D <- round(mean(subset(df_aquacultura, viveiro_2.1.4 == "D")[, 3]), digits = 2)

total_media_pesos <- matrix(data = c(media_peso_A, media_peso_B, media_peso_C, media_peso_D), byrow = TRUE, nrow = 4, dimnames = list(c("Média A", "Média B", "Média C", "Média D"), c("Peso")))

total_media_pesos


barplot(height = c(total_media_pesos), names.arg = c(viveiro_2.1.4[1:4]), col = blues9, xlab = "Viveiro", ylab = "Peso médio ao fim de 3 meses", ylim = c(0,300))

```
# Exercício 2.1.5
```{r}
# a) variável em estudo: número de peças defeituosas; tipo quantitativo; ;discreta; escala de razões
# b) 5*150 = 750
5*150
# c) 
#importar os dados
colnames(PecasDef) <- "Peças Defeituosas"
pecas_def_df <- data.frame(PecasDef)
pecas_def_df


pecas_def_0 <- count(pecas_def_df)[1,2]
pecas_def_1 <- count(pecas_def_df)[2,2]  
pecas_def_2 <- count(pecas_def_df)[3,2]  
pecas_def_3 <- count(pecas_def_df)[4,2]
pecas_def_4 <- count(pecas_def_df)[5,2]
pecas_def_5 <- count(pecas_def_df)[6,2]

total_pecas_def = pecas_def_0 + pecas_def_1 + pecas_def_2 + pecas_def_3 + pecas_def_4 + pecas_def_5
total_pecas_def



n_pecas_def <- matrix(data = round(c(pecas_def_0/total_pecas_def, pecas_def_1/total_pecas_def, pecas_def_2/total_pecas_def, pecas_def_3/total_pecas_def, pecas_def_4/total_pecas_def, pecas_def_5/total_pecas_def), digits = 2), byrow = TRUE, dimnames = list(c("0", "1", "2", "3", "4", "5"), c("Nº peças defeituosas")))
n_pecas_def
           
barplot(height = c(n_pecas_def), space = 3, names.arg = c(0,1,2,3,4,5), xlab = "Nº de peças defeituosas", col = "deeppink4")

# d) Interpretar o gráfico: Tenho em conta os 150 lotes analisados pelo colaborador do controlo de qualidade (com 5 peças em cada lote), verificou-se que em 43% dos lotes nenhuma peça estava defeituosa, em 20% dos lotes 1 peça estava defeituosa, em 17%,12%,7% e 1%, 2,3,4 e 5 peças estavam defeituosas, respetivamente.

# Qual a percentagem de lote com nenhuma peça defeituosa (no conjunto dos peças usadas para controlo)? 8,5%
pecas_def_0/(total_pecas_def*5)

# Quantos lotes se observaram terem mais de metade de peças defeituosas para controlo? 31
total_pecas_def*(pecas_def_3/total_pecas_def + pecas_def_4/total_pecas_def + pecas_def_5/total_pecas_def)

# e) Obtenha os valores amostrais de medidas de localização de dispersão e de forma.
# medidas de localização
summary(pecas_def_df)
# medidas de dispersão
var(pecas_def_df)
sqrt(var(pecas_def_df))
colnames(pecas_def_df) <- "Pecas.Defeituosas"
sd(pecas_def_df$Pecas.Defeituosas)
# medidas de forma
kurtosis(pecas_def_df)
skewness(pecas_def_df)

# f) 
# Interprete os valores das medidas amostrais calculadas. 

# Média de 1.26 significa que em média apareceram 1.26 peças defeituosas de cada vez que se abria um lote
# Desvio-padrão de 1.37 implica uma dispersão em torno da média de 1.37 peças defeituosas
# 1.26 - 1.37 < 0 porque a distribuição da amostra tem uma cauda direita mais pesada: skewness = 0.79 > 0 (conforme se vê no gráfico também), isto é, é positivamente assimétrica.
# kurtosis = 2.55 > 0 significa que é mais achatada em torno da média (comparando com uma distribuição normal)


# Qual o número esperado de peças não conformes por cada extração de 5 peças de um lote? 
round(((total_pecas_def - pecas_def_0)/total_pecas_def), digits = 1)*150


# Sabendo que um lote é considerado excelente se não apresentar peças defeituosas no conjunto das 5 peças extraídas, concorda com as afirmações:

# i.“O controlo efectuado mostrou que a maioria dos lotes são excelentes”; não
# ii.“pelo menos 50% dos lotes apresentam pelo menos uma peça defeituosa”; sim
# iii.“os dados apresentam pouca variabilidade”. não


# g) Construir a caixa de bigodes associados aos dados
boxplot(pecas_def_df)

```



# Outros
```{r}

# os capítulos 2.2 (Probabilidades) e 2.3 (Distribuições) não foram sugeridos, mas fica para depois




```




# EXERCÍCIO 2.4 - INFERÊNCIA PARAMÉTRICA / INFERÊNCIA COM 1 VARIÁVEL
# 2.4 - Programa
```{r}

# • Amostragem: amostragem aleatória simples; estatísticas; algumas distribuições
# por amostragem em populações normais.

# • Estimação Pontual:
# (i) Estimador e estimativa. Propriedades dos estimadores: enviesamento, eficiência,
# erro quadrático médio.
# (ii) Métodos de estimação: método dos momentos e método da máxima verosimilhança.

# • Estimação Intervalar (Intervalos de Confiança):
# (i) Noções gerais sobre intervalos de confiança.
# (ii) Intervalos de confiança para populações normais: intervalo de confiança para
# a média com variância conhecida, intervalo de confiança para a média com
# variância desconhecida, intervalos de confiança para a variância (média conhecida
# e desconhecida); intervalos de confiança para uma proporção.
# (iii) Intervalos de confiança no caso de distribuições genéricas.

# • Testes de Hipóteses Paramétricos:
# (i) Conversão do p-value.
# (ii) Testes para a média e a variância.
# (iii) Testes para a comparação de médias de duas populações.

#Exercícios (conteúdo) Aulas | TPC

# Estimação pontual 2.4.1       | 2.4.2, 2.4.3
# IC+ZTest (µ)   2.4.5          | 2.4.4, 2.4.5, 2.4.6
# IC+Ttest (µ)   2.4.3, 2.4.8   | 2.4.7, 2.4.18
# TLC Ztest (µ)  2.4.9
# proporção (p)  2.4.10         | 2.4.11, 2.4.12
# dim. amostra   2.4.6          | 2.4.5, 2.4.20
# χ^2 (σ^2)      2.4.8          | 2.4.3, 2.4.7
# QQplot normal  2.4.8          | 2.4.7
# Conceitos                     | 2.4.13, 2.4.14, 2.4.16, 2.4.19

```



# 2.4.1
```{r}



```







